{% extends "base.html" %}

{% block content %}
<h1>記録を追加</h1>


<form method="post">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">保存</button>
</form>




<script>
  //memoの入力自体を200字以上できる仕様にする（エラーで調整）
document.addEventListener('DOMContentLoaded', () => {
  const memoEl = document.querySelector('[name="memo"]');
  if (!memoEl) return;

  // ① 200字以上も入力できるようにする（maxlength を外す）
  memoEl.removeAttribute('maxlength');

  // ② ブラウザ標準吹き出しの文言だけカスタム（空欄のとき）
  memoEl.addEventListener('invalid', () => {
    memoEl.setCustomValidity('内容を入力してください');
  });

  memoEl.addEventListener('input', () => {
    memoEl.setCustomValidity('');
  });
});
</script>


{% endblock %}