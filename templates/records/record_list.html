{% extends "base.html" %}

{% block content %}

{% if selected_date %}
  <p>é¸æŠä¸­ï¼š{{ selected_date|date:"Y-m-d" }}</p>
{% endif %}
<!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ -->
<h2>{{ year }}å¹´ {{ month }}æœˆ</h2>

<table border="1">
  <tr>
    <th>æœˆ</th><th>ç«</th><th>æ°´</th>
    <th>æœ¨</th><th>é‡‘</th><th>åœŸ</th><th>æ—¥</th>
  </tr>

  {% for week in calendar %}
    <tr>
      {% for day in week %}
        <td style="text-align:center; height:40px;">
          {% if day != 0 %}
            <a href="?date={{ year }}-{{ month|stringformat:'02d' }}-{{ day|stringformat:'02d' }}">
            {{ day }}
              </a>
          {% endif %}
        </td>
      {% endfor %}
    </tr>
  {% endfor %}
</table>

<hr>
<!-- ãã®æ—¥ã®è¨˜éŒ²æ¬„ -->
{% if selected_date %}
  <h2>{{ selected_date|date:"Y/m/d" }} ã®è¨˜éŒ²</h2>

  {% if selected_records and selected_records.exists %}
    <ul>
      {% for record in selected_records %}
        <li>
          <a href="{% url 'records:record_update' record.pk %}"
             style="display:block; text-decoration:none; color:inherit;">
            <strong>{{ record.created_at|date:"H:i" }}</strong>
            ï½œ{{ record.category.get_type_display }}
            ï½œ{{ record.category.name }}
            <br>
            {{ record.memo }}
          </a>

          <a href="{% url 'records:record_delete' record.pk %}">ğŸ—‘ï¸</a>
        </li>
        <hr>
      {% endfor %}
    </ul>
  {% else %}
    <p>ã“ã®æ—¥ã®è¨˜éŒ²ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
  {% endif %}

  <hr>
{% endif %}
<hr>

<h2>è¨˜éŒ²ä¸€è¦§</h2>

{% if records %}
  <ul>
    {% for record in records %}
      <li>
        <!-- ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ç·¨é›†ç”»é¢ã¸ -->
        <a href="{% url 'records:record_update' record.pk %}"
           style="display:block; text-decoration:none; color:inherit;">

          <strong>{{ record.created_at|date:"Y/m/d" }}</strong>
          ï½œ{{ record.category.get_type_display }}
          ï½œ{{ record.category.name }}
          <br>
          {{ record.memo }}

        </a>

        <!-- ã‚´ãƒŸç®±ï¼ˆå‰Šé™¤ï¼‰ã ã‘åˆ¥ -->
        <a href="{% url 'records:record_delete' record.pk %}">ğŸ—‘ï¸</a>

      </li>
      <hr>
    {% endfor %}
  </ul>
{% else %}
  <p>ã¾ã è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
{% endif %}

{% endblock %}